<template>
  <DlFilter
    :visible="isPersonalPage"
    :gamer="gamer"
    :changeType="changeType"
    :changeActive="changeActive"
    :isActive="isActive"
    :filterType="filterType"
    :itemsCount="itemsCount"
  />
  <DlUserItems
    v-if="filterType === 'box'"
    :items="displayedItems"
    :gift="gamer.gift"
    :page="page"
    :key="isActive"
  />
  <DlUserContracts
    v-if="filterType === 'contract'"
    :contracts="displayedContracts"
  />
  <div class="dl-user-items__wrapper">
    <div class="dl-user-items__open-case dl-button--orange">
      открыть кейс
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="30"
        height="30"
        viewBox="0 0 30 30"
        fill="none"
      >
        <path
          d="M20.1844 12.2686C19.772 12.0799 19.3972 11.8913 18.9848 11.7027C18.0476 11.25 17.1104 10.835 16.2107 10.3823C15.0486 9.81636 13.924 9.25047 12.7619 8.68457C11.4873 8.08095 10.2128 7.51505 8.97569 6.91143C8.86323 6.8737 8.75076 6.83598 8.6383 6.8737C8.26343 7.02461 7.85107 7.21324 7.47619 7.40187C7.21378 7.51505 6.95137 7.62823 6.72645 7.74141C6.08916 8.04322 5.45188 8.38276 4.81459 8.68457V8.7223C6.23911 9.47683 7.66363 10.1936 9.12564 10.9482C10.5127 11.665 11.9372 12.3818 13.3242 13.0608C13.6991 13.2495 14.1115 13.4381 14.4863 13.6267C14.5988 13.7022 14.7487 13.8531 14.7487 13.9663C14.7487 15.249 14.7487 16.5694 14.7487 17.8521C14.7112 19.9648 14.6363 22.0774 14.5988 24.1901C14.5613 25.9633 14.4863 27.7741 14.4113 29.5473C14.4113 29.7359 14.3739 29.9245 14.1115 29.8114C13.2118 29.3587 12.3495 28.9059 11.4499 28.4909C10.6626 28.1137 9.8379 27.7741 9.05066 27.3591C8.07599 26.8687 7.10132 26.3405 6.12665 25.8501C4.92706 25.2842 3.68997 24.7183 2.49038 24.1524C2.00305 24.0392 1.62817 23.8883 1.29079 23.662C1.14084 23.5488 1.02837 23.3224 1.02837 23.1715C0.990887 22.417 1.02837 21.6625 0.990887 20.9079C0.9534 19.0593 0.915912 17.2107 0.840938 15.3621C0.840938 14.8717 0.840938 14.419 0.803451 13.9285C0.765963 12.4572 0.728476 10.9859 0.653501 9.51455C0.616014 8.83548 0.541039 8.1564 0.503552 7.4396C0.466065 6.98688 0.728476 6.68507 1.14084 6.53416C1.51571 6.42099 1.89058 6.27008 2.22797 6.11917C3.0152 5.77964 3.80244 5.4401 4.58967 5.10056C5.30193 4.79875 6.01419 4.45921 6.68896 4.1574C7.1763 3.93104 7.66363 3.74241 8.15097 3.51605C8.97569 3.13879 9.80041 2.7238 10.6626 2.34653C11.0375 2.1579 11.4499 2.08245 11.8622 1.93154C12.5745 1.62973 13.2867 1.25247 13.999 0.912928C14.6738 0.611116 15.3485 0.271579 16.0608 0.00749359C16.1733 -0.0302328 16.3982 0.0829464 16.5856 0.158399C17.9352 0.799748 19.2847 1.4411 20.6342 2.08245C21.4215 2.45971 22.2087 2.76152 22.9959 3.17651C23.9706 3.66696 24.9078 4.1574 25.8825 4.64784C26.7072 5.06283 27.5319 5.4401 28.3191 5.81736C28.769 6.04372 29.2188 6.27008 29.6687 6.49644C29.7437 6.53416 29.8186 6.57189 29.8936 6.57189C30.4184 6.68507 30.5309 6.83598 30.4934 7.36415C30.4934 8.45821 30.4934 9.51455 30.4559 10.6086C30.4184 12.0422 30.3435 13.5136 30.2685 14.9472C30.1935 16.4185 30.1185 17.9275 30.0436 19.3989C29.9686 20.7193 29.9311 22.0774 29.8936 23.4733C25.1702 25.6237 20.4093 27.7741 15.5735 30C15.6109 29.5473 15.6484 29.17 15.6859 28.7928C15.6859 28.6796 15.7234 28.6041 15.7234 28.4909C15.7609 27.1328 15.8359 25.7369 15.8734 24.3788C15.9108 22.8697 15.8734 21.3229 15.9108 19.8139C15.9483 18.0784 16.0233 16.3053 16.0983 14.5699C16.0983 14.4567 16.2107 14.3058 16.3232 14.2304C16.8105 13.9285 17.3354 13.6267 17.8602 13.3626C18.6099 13.0231 19.3597 12.7213 20.1469 12.4195C20.1844 12.3818 20.1844 12.344 20.1844 12.2686ZM12.462 5.02511C12.8369 5.21374 13.1368 5.40237 13.4742 5.55328C14.4863 6.08145 15.4985 6.57189 16.5106 7.10006C17.2979 7.47733 18.1226 7.85459 18.9098 8.23185C19.6596 8.60912 20.3718 9.02411 21.1216 9.40137C21.6464 9.66546 22.1712 9.89182 22.6586 10.1559C23.1084 10.42 23.4833 10.7218 24.0081 10.3068C24.1581 10.1559 24.383 10.0804 24.5704 9.96727C25.3951 9.59 26.2199 9.21274 27.0821 8.79775C26.9696 8.64684 26.9321 8.53366 26.8571 8.49594C26.3323 8.23185 25.845 8.0055 25.3202 7.77914C24.458 7.40187 23.5957 7.02461 22.771 6.60962C22.2462 6.34553 21.7589 6.04372 21.234 5.81736C20.5593 5.47782 19.847 5.21374 19.1722 4.91193C18.3475 4.49694 17.5228 4.04422 16.6981 3.62923C16.4357 3.51605 16.0608 3.32742 15.8359 3.40287C15.1611 3.66696 14.5613 4.04422 13.924 4.38376C13.4742 4.57239 13.0243 4.76102 12.462 5.02511Z"
          fill="#000011"
        />
      </svg>
    </div>
    <div
      v-if="
        filterType === 'box' && filteredDrops.length !== numberOfDisplayedItems
      "
      @click="showMore()"
      class="dl-user-items__show-more dl-button--grey-orange"
    >
      ПОКАЗАТЬ ЕЩЁ предметы
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="21"
        height="13"
        viewBox="0 0 21 13"
        fill="none"
      >
        <path
          d="M12.8389 10.7059L21 2.19853L18.7109 0.191177L10.4502 8.31618L2.48815 0L0 2.38971L8.26066 10.5147V10.6103L10.6493 13L12.5403 10.9926L12.8389 10.8015V10.7059Z"
          fill="#FF8B00"
        />
      </svg>
    </div>
    <div
      v-if="
        filterType === 'contract' &&
        gamer.contracts?.length !== numberOfDisplayedContracts
      "
      @click="showMore()"
      class="dl-user-items__show-more dl-button--grey-orange"
    >
      ПОКАЗАТЬ ЕЩЁ контракты
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="21"
        height="13"
        viewBox="0 0 21 13"
        fill="none"
      >
        <path
          d="M12.8389 10.7059L21 2.19853L18.7109 0.191177L10.4502 8.31618L2.48815 0L0 2.38971L8.26066 10.5147V10.6103L10.6493 13L12.5403 10.9926L12.8389 10.8015V10.7059Z"
          fill="#FF8B00"
        />
      </svg>
    </div>
  </div>
</template>
<script src="./dl-user-contents.js"></script>
